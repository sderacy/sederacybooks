---
import Layout from '../layouts/Layout.astro';
import { library} from '../data/books';
import Newsletter from '../components/Newsletter.astro';

const featuredSeries = library[0];
const featuredBook = featuredSeries.books[0];
---

<Layout title="S.E. Deracy | Author & Engineer">
    <fragment slot="head">
        <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Book",
          "name": "The Elementless Magician",
          "author": {
            "@type": "Person",
            "name": "S.E. Deracy",
            "url": "https://www.sederacybooks.com"
          },
          "workExample": {
            "@type": "Book",
            "isbn": "B0GC8Z175L", 
            "bookFormat": "https://schema.org/EBook"
          },
          "url": "https://www.sederacybooks.com",
          "image": "https://www.sederacybooks.com/EMCover1.jpg",
          "description": "The Elementless Magician Series"
        }
        </script>
    </fragment>
    <main>
        <section class="relative py-20 md:py-32 px-6 overflow-hidden bg-void-900 border-b border-void-700 min-h-[80vh] flex items-center">
            <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="order-2 md:order-1 text-center md:text-left z-10">
                    <span class="text-gold font-bold tracking-[0.2em] text-xs uppercase mb-4 block">
                        Latest Release
                    </span>
                    <h1 class="text-5xl md:text-7xl font-serif text-white font-bold mb-8 leading-none">
                        The Elementless <br/>
                        <span class="text-gold">Magician</span>
                    </h1>
                    <div class="max-w-xl mx-auto md:mx-0 mb-10">        
                        {featuredBook.quote && (
                            <p class="text-white text-2xl md:text-3xl italic font-serif mb-6 leading-snug">
                                "{featuredBook.quote}"
                            </p>
                        )}
                        <p class="text-xl text-gray-300 leading-relaxed mb-8">
                            {featuredBook.shortDescription}
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                            <a href={featuredBook.amazonLink} target="_blank" class="btn-primary bg-gold text-void-900 hover:bg-white border-none">
                                Buy Now
                            </a>
                            <a href="/books" class="btn-secondary">
                                Read Full Summary
                            </a>
                        </div>
                    </div>
                </div>

                <div class="order-1 md:order-2 flex justify-center relative z-10">
                    <div class="relative w-64 md:w-80 shadow-2xl shadow-gold/10">
                         <img 
                            src={featuredBook.cover} 
                            alt="Book Cover" 
                            class="w-full h-auto rounded-sm transform hover:scale-105 transition duration-500"
                        />
                    </div>
                </div>

                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-gold/5 rounded-full blur-3xl -z-0 pointer-events-none"></div>
             </div>
        </section>
        <section id="newsletter">
            <Newsletter />
        </section>
    </main>
</Layout>