---
import Layout from '../layouts/Layout.astro';
import { library} from '../data/books';
import Newsletter from '../components/Newsletter.astro';

const featuredSeries = library[0];
const featuredBook = featuredSeries.books[0];
---

<Layout title="S.E. Deracy | Author & Engineer">
    <main class="min-h-screen relative overflow-hidden bg-light-bg dark:bg-void-900 transition-colors duration-500">
        <section class="relative py-20 md:py-32 px-6 overflow-hidden bg-light-bg dark:bg-void-900 border-b border-gray-200 dark:border-void-700 min-h-[80vh] flex items-center transition-colors duration-500">
            <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="order-2 md:order-1 text-center md:text-left z-10">
                    <span class="text-lilac-dark dark:text-gold font-bold tracking-[0.2em] text-xs uppercase mb-4 block">
                        Latest Release
                    </span>
                    <h1 class="text-5xl md:text-7xl font-serif text-light-text dark:text-white font-bold mb-8 leading-none">
                        The Elementless <br/>
                        <span class="text-lilac-dark dark:text-gold">Magician</span>
                    </h1>
                    
                    <div class="max-w-xl mx-auto md:mx-0 mb-10">        
                        {featuredBook.quote && (
                            <p class="text-gray-900 dark:text-white text-2xl md:text-3xl italic font-serif mb-6 leading-snug">
                                "{featuredBook.quote}"
                            </p>
                        )}
                        <p class="text-xl text-gray-700 dark:text-gray-300 leading-relaxed mb-8">
                            {featuredBook.shortDescription}
                        </p>
                        
                        <div class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start">
                            <a href={featuredBook.amazonLink} target="_blank" rel="noopener noreferrer" class="btn-primary bg-lilac-dark dark:bg-gold text-white dark:text-void-900 hover:opacity-90 transition-opacity border-none">
                                Buy Now
                            </a>
                            <a href={`/${featuredSeries.id}`} class="btn-secondary text-gray-800 dark:text-white border-gray-900 dark:border-gray-300 hover:border-lilac dark:hover:border-gold">
                                Read More
                            </a>
                        </div>
                    </div>
                </div>

                <div class="order-1 md:order-2 flex justify-center relative z-10">
                    <div class="relative w-80 md:w-[450px] shadow-2xl shadow-lilac-dark/50 dark:shadow-gold/20 rounded-sm transition-shadow duration-500 hover:shadow-lilac-dark/70 dark:hover:shadow-gold/40">
                        <img 
                            src={featuredBook.cover} 
                            alt="Book Cover" 
                            class="w-full h-auto rounded-lg transform hover:scale-105 transition duration-500 block"
                        />
                    </div>
                </div>
             </div>
        </section>
        
        <section id="newsletter">
            <Newsletter />
        </section>
    </main>
</Layout>